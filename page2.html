<!DOCTYPE html>
<html lang="en">
<head>
        <meta name="robots" content="noindex, nofollow">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>My precious diamond</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      /* تغيير overflow لتفعيل التمرير العمودي */
      overflow-y: auto;
      position: relative;
      font-family: Arial, sans-serif;
      color: #333;
      background: #ffe6f2; /* نفس خلفية الصفحة الأولى */
    }
    /* نفس أكواد القلوب */
    .heart {
      position: absolute;
      color: rgba(255, 0, 0, 0.15);
      pointer-events: none;
      animation: glow 3s infinite;
    }
    @keyframes glow {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 0.3; }
    }
    .falling-heart {
      position: fixed;
      color: rgba(255, 105, 180, 0.3);
      animation: fall 3s linear infinite;
      pointer-events: none;
      opacity: 0;
      z-index: 1;
    }
    @keyframes fall {
      0% { transform: translateY(-150%) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(360deg); opacity: 1; }
    }
    /* المحتوى الرئيسي */
    .title-box {
      background: #fff;
      margin: 20px auto 10px auto;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      text-align: center;
      border-radius: 8px;
      font-size: 2em;
      font-weight: bold;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      position: relative;
    }
    /* تم تقليل الارتفاع لتكون عناصر التأكيد والزرار ظاهرين */
    .chapter-box {
      background: rgba(255,255,255, 0.9);
      margin: 50px auto 20px auto;
      padding: 20px;
      width: 90%;
      max-width: 600px;
      border-radius: 8px;
      border: 1px solid #ddd;
      overflow-y: auto;
      height: calc(100vh - 140px);
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
      position: relative;
    }
    .chapter-header {
      font-size: 1.5em;
      margin-bottom: 10px;
      padding-bottom: 10px;
      border-bottom: 1px solid #ddd;
    }
    .chapter-content {
      font-size: 1em;
      line-height: 1.5;
      white-space: pre-wrap;
    }
    /* المربع الجديد */
    #extraDiv {
      margin-top: 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    #extraSquare {
      width: 20px;
      height: 20px;
      background: #ccc;
      cursor: pointer;
      border-radius: 5px;
    }
    /* جعل جملة "i read it bitch" ظاهرة من البداية */
    #extraText {
      margin-left: 10px;
      font-size: 1em;
      color: #000;
    }
    #nextButton {
      display: none;
      padding: 10px 20px;
      background: #ffc0cb;
      border: 1px solid #ddd;
      border-radius: 5px;
      cursor: pointer;
      /* رفع زر Next قليلاً */
      position: fixed;
      right: 20px;
      top: 80%;
    }
    /* Toggle Switch for Falling Hearts */
    .switch {
      position: fixed;
      /* تعديل الموضع ليكون أسفل التايتل بقليل */
      top: 20%;
      right: 85%;
      display: inline-block;
      width: 40px;
      height: 20px;
      z-index: 9999;
    }
    .switch input {
      display: none;
    }
    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: red; /* الحالة الافتراضية (Off) */
      transition: 0.4s;
      border-radius: 34px;
    }
    .slider:before {
      position: absolute;
      content: "";
      height: 21px;
      width: 21px;
      left: -1px;
      bottom: 0px;
      background-color: #fff;
      transition: 0.4s;
      border-radius: 50%;
    }
    .switch input:checked + .slider {
      background-color: green; /* الحالة On */
    }
    .switch input:checked + .slider:before {
      transform: translateX(26px);
    }
  </style>
  <style>
    .transition-shrink {
      transition: transform 0.5s ease, opacity 0.5s ease;
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
    }
    .transition-grow {
      transition: transform 0.5s ease, opacity 0.5s ease;
      transform: translate(-50%, -50%) scale(1);
      opacity: 1;
    }
    #nameBox {
      transform: translate(-50%, -50%) scale(0);
      opacity: 0;
    }
  </style>
  <!-- إعدادات للسويتش لأجهزة iPhone 13 واللاب توب -->
  <style>
    @media screen and (max-width: 430px) {
      .switch {
        top: 10%; 
        right: 10%;
      }
    }
    @media screen and (min-width: 1024px) {
      .switch {
        top: 5%;
        right: 5%;
      }
    }
  </style>
</head>
<body>
  <!-- Toggle Switch for Falling Hearts -->
  <label class="switch" id="switchLabel">
    <input type="checkbox" id="toggleSwitchCheckbox" checked>
    <span class="slider"></span>
  </label>

  <div id="heartsContainer"></div>
  <div id="fallingHearts"></div>

  <div class="title-box">My precious diamond </div>

  <div class="chapter-box" id="chapterBox">
    <div class="chapter-header">You are my everything</div>
    <div class="chapter-content">
      <!-- تم إزالة dir="rtl" ليصبح النص من اليسار لليمين -->
      Missed you my precious diamond, i hope you're doing well in your studies.
      Happy birthday my sweet girl.
      How are you? better than me aren't you😭. i hope so. i miss you soo muchy muchy. as i promised you i got better. for myself but tbh i took you as an emotional support for it. i got weak against my desires soo many times but i stopped and didn't do it and got rid of those thoughts by thinking about you and what made you feel back then. i hurt my beautiful princess because of that. i failed to be your perfect man and husband and most importantly a partner for you. because of this pathetic flaw. and it took the most precious thing in our relationship which is the safety we feel from each other. the safety you feel from me. i regretted what i did every single day. i couldn't sleep... couldn't eat... can't even get out of the house. my heart hurts a lot thinking about what happened. specially when i reread our whole Chat. i made an even worse mistake. something i thought would never happen. i promised you something and didn't just break my promise, i forgot i promised you that in the first place. i thought when i didn't say such things it was (جدعنة مني) and for the sake of not making you feel uncomfortable. but i was wrong both ways. i promised you and broke that promise and forgot about it. I'm really really sorry. i didn't mean to hurt you. i really love you and I'm really serious about "Us". I'm ready to change my self every single day for you. just to be your beloved husband one day. I'm not a playboy nor playing you nor a narcissist🤨. 
      i really love you. you're the most important person in my life. love you more than anything in this world. love you more than anyone in this world. love you more than any desire in this world. love you more than any money in this world. love you more than any pleasure in this world. because YOU are my world. without you i would be just a walking corpse like i used to be. i was born when i met you. every single word in this apology isn't just words i type with my fingers. I'm opening my heart like i used to when i was with you. but you didn't believe my words back then because of my stupidity. you mean everything to me. you're my home. you're my world. 
      I love you every night more than the last night.
    </div>

    <div id="extraDiv">
      <div id="extraSquare"></div>
      <span id="extraText">I've read it bitch</span>
      <button id="nextButton">Next</button>
    </div>
  </div>

  <script>
    function createHearts() {
      const container = document.getElementById('heartsContainer');
      container.innerHTML = "";
      const minSize = 75, maxSize = 160, cellSize = 150;
      const cols = Math.floor(window.innerWidth / cellSize);
      const rows = Math.floor(window.innerHeight / cellSize);
      for (let r = 0; r < rows; r++) {
        for (let c = 0; c < cols; c++) {
          const size = Math.random() * (maxSize - minSize) + minSize;
          const x = c * cellSize + (cellSize / 2) - (size / 2);
          const y = r * cellSize + (cellSize / 2) - (size / 2);
          const heart = document.createElement('div');
          heart.className = 'heart';
          heart.innerHTML = '❤️';
          heart.style.left = x + 'px';
          heart.style.top = y + 'px';
          heart.style.fontSize = size + 'px';
          heart.style.transform = `rotate(${Math.random()*360}deg)`;
          container.appendChild(heart);
        }
      }
    }

    function createFallingHearts() {
      const container = document.getElementById('fallingHearts');
      for(let i = 0; i < 50; i++) {
        const heart = document.createElement('div');
        heart.className = 'falling-heart';
        heart.innerHTML = '❤️';
        heart.style.left = Math.random() * 100 + 'vw';
        heart.style.fontSize = (Math.random()*30+20) + 'px';
        heart.style.animationDuration = (Math.random()*3+2) + 's';
        heart.style.animationDelay = Math.random()*5 + 's';
        container.appendChild(heart);
      }
    }

    createHearts();
    createFallingHearts();

    // عند الضغط على extraSquare يظهر زر Next
    document.getElementById('extraSquare').addEventListener('click', function() {
      this.style.background = 'pink';
      document.getElementById('nextButton').style.display = 'inline-block';
    });

    // عند الضغط على زر Next ينتقل لصفحة page3
    document.getElementById('nextButton').addEventListener('click', function() {
      window.location.href = 'page4.html';
    });

    // Toggle Switch code for Falling Hearts
    document.getElementById('toggleSwitchCheckbox').addEventListener('change', function() {
      document.getElementById('fallingHearts').style.display = this.checked ? 'block' : 'none';
    });
  </script>
</body>
</html>